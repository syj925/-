# 推荐算法配置文件说明

基于现有配置 `recommendation-config-2025-08-28.json` 创建的四种预设模式。

## 📁 配置文件概览

| 文件名 | 模式 | 推荐阈值 | 适用场景 |
|--------|------|----------|----------|
| `development-mode.json` | 🔧 开发模式 | 5.0 | 开发测试环境 |
| `production-mode.json` | 🚀 生产模式 | 12.0 | 正式运营环境 |
| `high-quality-mode.json` | 🔥 高质量模式 | 18.0 | 追求内容质量 |
| `active-mode.json` | 🎊 活跃模式 | 8.0 | 提升社区活跃度 |

## 🔧 开发模式 (development-mode.json)

**特点**: 宽松条件，便于测试和调试

### 关键调整
- **推荐阈值**: 5.0 (比原配置10.0更低)
- **新帖加分**: 8.0 (比原配置5.0更高)
- **更新频率**: 0.5小时 (比原配置1小时更频繁)
- **缓存时间**: 10分钟 (比原配置15分钟更短)
- **管理员推荐**: 3个 (比原配置1个更多)

### 适用情况
- 功能开发阶段
- 算法调试测试
- 数据验证环境

## 🚀 生产模式 (production-mode.json)

**特点**: 平衡质量和数量，适合正式环境

### 关键调整
- **推荐阈值**: 12.0 (比原配置10.0稍高)
- **更新频率**: 2小时 (比原配置1小时更稳定)
- **缓存时间**: 30分钟 (比原配置15分钟更长)
- **搜索推荐**: 仅帖子 (简化类型)

### 适用情况
- 正式运营环境
- 用户量稳定期
- 追求系统稳定性

## 🔥 高质量模式 (high-quality-mode.json)

**特点**: 严格标准，确保推荐内容质量

### 关键调整
- **推荐阈值**: 18.0 (比原配置10.0高很多)
- **评论权重**: 4.0 (比原配置3.0更高，重视互动)
- **收藏权重**: 5.0 (比原配置4.0更高，重视价值)
- **内容加分**: 4.0 (比原配置2.0更高，重视内容质量)
- **最低互动**: 6.0 (比原配置4.0更严格)
- **同作者占比**: 0.2 (比原配置0.3更严格)

### 适用情况
- 专业社区
- 学术讨论平台
- 追求内容深度

## 🎊 活跃模式 (active-mode.json)

**特点**: 鼓励更多推荐，提升活跃度

### 关键调整
- **推荐阈值**: 8.0 (比原配置10.0更低)
- **浏览权重**: 0.8 (比原配置0.5更高，重视曝光)
- **管理员推荐**: 5个 (比原配置1个多很多)
- **搜索推荐数**: 8个 (比原配置6个更多)
- **推荐类型**: 包含用户推荐 (比原配置更丰富)
- **时间衰减**: 10天 (比原配置5天更慢)

### 适用情况
- 新社区起步
- 用户活跃度不足
- 内容产出较少

## 📊 核心参数对比

| 参数 | 原配置 | 开发模式 | 生产模式 | 高质量模式 | 活跃模式 |
|------|--------|----------|----------|------------|----------|
| scoreThreshold | 10.0 | 5.0 | 12.0 | 18.0 | 8.0 |
| likeWeight | 2 | 1.5 | 2.0 | 2.5 | 1.8 |
| commentWeight | 3 | 2.5 | 3.0 | 4.0 | 2.0 |
| collectionWeight | 4 | 3.0 | 4.0 | 5.0 | 3.5 |
| viewWeight | 0.5 | 0.3 | 0.5 | 0.3 | 0.8 |
| newPostBonus | 5 | 8.0 | 5.0 | 3.0 | 6.0 |
| updateIntervalHours | 1 | 0.5 | 2 | 4 | 1 |
| maxAdminRecommended | 1 | 3 | 2 | 1 | 5 |

## 🚀 使用方法

### 1. 通过管理后台导入
1. 进入管理后台 → 推荐算法页面
2. 点击"导入配置"按钮
3. 选择对应的JSON文件
4. 确认导入并重新计算分数

### 2. 通过API导入
```bash
curl -X POST http://localhost:3000/api/admin/recommendation/import \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d @development-mode.json
```

### 3. 分步应用
也可以手动在管理界面中逐项调整参数，参考配置文件中的数值。

## 🔧 自定义调整

可以基于这些配置进行微调：

1. **调整阈值**: 根据实际推荐数量效果
2. **调整权重**: 根据社区特点和用户行为
3. **调整时间**: 根据内容更新频率
4. **调整加分**: 根据内容质量要求

## ⚠️ 注意事项

1. **配置切换后务必重新计算分数**
2. **观察统计数据变化，及时调整**
3. **不同时期可使用不同模式**
4. **建议备份当前配置后再切换**
