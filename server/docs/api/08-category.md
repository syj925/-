# åˆ†ç±»æ¨¡å— API

## æ¦‚è¿°

åˆ†ç±»æ¨¡å—æä¾›å¸–å­åˆ†ç±»çš„æŸ¥è¯¢å’Œç®¡ç†åŠŸèƒ½ã€‚

**Base URL**: `/api/categories`

---

## API åˆ—è¡¨

### 1. è·å–åˆ†ç±»åˆ—è¡¨

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/categories
```

#### æŸ¥è¯¢å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| page | number | å¦ | é¡µç  |
| limit | number | å¦ | æ¯é¡µæ•°é‡ |

#### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 0,
  "data": {
    "list": [
      {
        "id": 1,
        "name": "æ ¡å›­ç”Ÿæ´»",
        "icon": "ğŸ«",
        "sort": 1,
        "post_count": 1000,
        "status": "active",
        "created_at": "2024-01-01T00:00:00.000Z"
      },
      {
        "id": 2,
        "name": "å­¦ä¹ äº¤æµ",
        "icon": "ğŸ“š",
        "sort": 2,
        "post_count": 800,
        "status": "active",
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ],
    "pagination": {
      "page": 1,
      "pageSize": 10,
      "total": 10
    }
  }
}
```

---

### 2. æœç´¢åˆ†ç±»

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/categories/search
```

#### æŸ¥è¯¢å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| keyword | string | æ˜¯ | æœç´¢å…³é”®è¯ |

---

### 3. è·å–åˆ†ç±»è¯¦æƒ…

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/categories/:id
```

#### è·¯å¾„å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | number | åˆ†ç±» ID |

#### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 0,
  "data": {
    "id": 1,
    "name": "æ ¡å›­ç”Ÿæ´»",
    "icon": "ğŸ«",
    "sort": 1,
    "post_count": 1000,
    "status": "active",
    "created_at": "2024-01-01T00:00:00.000Z"
  }
}
```

#### é”™è¯¯ç 

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 604 | åˆ†ç±»ä¸å­˜åœ¨ |

---

## ç®¡ç†å‘˜æ¥å£

### 4. åˆ›å»ºåˆ†ç±»

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
POST /api/categories
```

#### è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| name | string | æ˜¯ | åˆ†ç±»åç§° (1-50å­—ç¬¦) |
| icon | string | å¦ | å›¾æ ‡ (æœ€å¤š255å­—ç¬¦) |
| sort | number | å¦ | æ’åºæƒé‡ (é»˜è®¤ 0) |

#### è¯·æ±‚ç¤ºä¾‹

```json
{
  "name": "å¤±ç‰©æ‹›é¢†",
  "icon": "ğŸ”",
  "sort": 10
}
```

#### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 0,
  "msg": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 11,
    "name": "å¤±ç‰©æ‹›é¢†",
    "icon": "ğŸ”",
    "sort": 10
  }
}
```

---

### 5. æ›´æ–°åˆ†ç±»

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
PUT /api/categories/:id
```

#### è·¯å¾„å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | number | åˆ†ç±» ID |

#### è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| name | string | å¦ | åˆ†ç±»åç§° |
| icon | string | å¦ | å›¾æ ‡ |
| sort | number | å¦ | æ’åºæƒé‡ |

---

### 6. åˆ é™¤åˆ†ç±»

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
DELETE /api/categories/:id
```

#### è·¯å¾„å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | number | åˆ†ç±» ID |

#### é”™è¯¯ç 

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 604 | åˆ†ç±»ä¸å­˜åœ¨ |

---

### 7. æ‰¹é‡æ›´æ–°æ’åº

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
POST /api/categories/sort
```

#### è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| sortData | array | æ˜¯ | æ’åºæ•°æ®æ•°ç»„ |

#### sortData é¡¹ç»“æ„

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| id | number | æ˜¯ | åˆ†ç±» ID |
| sort | number | æ˜¯ | æ’åºæƒé‡ |

#### è¯·æ±‚ç¤ºä¾‹

```json
{
  "sortData": [
    { "id": 1, "sort": 1 },
    { "id": 2, "sort": 2 },
    { "id": 3, "sort": 3 }
  ]
}
```

---

## å†…å®¹ç®¡ç† API

### 8. è·å–æ‰€æœ‰åˆ†ç±» (ç®¡ç†åå°)

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
GET /api/content/categories
```

#### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 0,
  "data": [
    {
      "id": 1,
      "name": "æ ¡å›­ç”Ÿæ´»",
      "icon": "ğŸ«",
      "sort": 1,
      "status": "active"
    }
  ]
}
```

---

### 9. æŒ‰ç±»å‹è·å–åˆ†ç±»

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /content/categories/type/:type
```

#### è·¯å¾„å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| type | string | åˆ†ç±»ç±»å‹ |
