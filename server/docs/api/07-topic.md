# è¯é¢˜æ¨¡å— API

## æ¦‚è¿°

è¯é¢˜æ¨¡å—æä¾›è¯é¢˜çš„åˆ›å»ºã€æŸ¥è¯¢ã€ç®¡ç†ç­‰åŠŸèƒ½ã€‚

**Base URL**: `/api/topics`

---

## API åˆ—è¡¨

### 1. è·å–è¯é¢˜åˆ—è¡¨

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/topics
```

#### æŸ¥è¯¢å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| page | number | å¦ | é¡µç  |
| limit | number | å¦ | æ¯é¡µæ•°é‡ |
| keyword | string | å¦ | æœç´¢å…³é”®è¯ |
| is_hot | boolean | å¦ | æ˜¯å¦åªæ˜¾ç¤ºçƒ­é—¨ |

#### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 0,
  "data": {
    "list": [
      {
        "id": "topic-uuid",
        "name": "æ ¡å›­ç”Ÿæ´»",
        "description": "åˆ†äº«ä½ çš„æ ¡å›­æ—¥å¸¸",
        "cover_image": "/uploads/topics/xxx.png",
        "post_count": 500,
        "view_count": 10000,
        "is_hot": true,
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ],
    "pagination": {
      "page": 1,
      "pageSize": 10,
      "total": 50
    }
  }
}
```

---

### 2. è·å–çƒ­é—¨è¯é¢˜

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/topics/hot
```

#### æŸ¥è¯¢å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| limit | number | å¦ | æ•°é‡ (é»˜è®¤ 10) |

#### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 0,
  "data": [
    {
      "id": "topic-uuid",
      "name": "æœŸæœ«è€ƒè¯•",
      "post_count": 1000,
      "is_hot": true
    }
  ]
}
```

---

### 3. è·å–çƒ­åº¦è¶‹åŠ¿è¯é¢˜

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/topics/trending
```

#### æŸ¥è¯¢å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| limit | number | å¦ | æ•°é‡ |

---

### 4. æœç´¢è¯é¢˜

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/topics/search
```

#### æŸ¥è¯¢å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| keyword | string | æ˜¯ | æœç´¢å…³é”®è¯ |
| page | number | å¦ | é¡µç  |
| limit | number | å¦ | æ¯é¡µæ•°é‡ |

---

### 5. è·å–è¯é¢˜è¯¦æƒ…

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/topics/:id
```

#### è·¯å¾„å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | string | è¯é¢˜ ID |

#### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 0,
  "data": {
    "id": "topic-uuid",
    "name": "æ ¡å›­ç”Ÿæ´»",
    "description": "åˆ†äº«ä½ çš„æ ¡å›­æ—¥å¸¸",
    "cover_image": "/uploads/topics/xxx.png",
    "post_count": 500,
    "view_count": 10001,
    "is_hot": true,
    "creator": {
      "id": "user-uuid",
      "nickname": "ç®¡ç†å‘˜"
    },
    "created_at": "2024-01-01T00:00:00.000Z"
  }
}
```

#### é”™è¯¯ç 

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 605 | è¯é¢˜ä¸å­˜åœ¨ |

---

### 6. è·å–è¯é¢˜ä¸‹çš„å¸–å­

ğŸ”“ **å¯é€‰è®¤è¯**

```http
GET /api/topics/:id/posts
```

#### è·¯å¾„å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | string | è¯é¢˜ ID |

#### æŸ¥è¯¢å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| page | number | å¦ | é¡µç  |
| limit | number | å¦ | æ¯é¡µæ•°é‡ |
| order | string | å¦ | æ’åº (latest/hot) |

---

### 7. è·å–è¯é¢˜ç»Ÿè®¡

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/topics/:id/statistics
```

#### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 0,
  "data": {
    "postCount": 500,
    "viewCount": 10000,
    "todayPostCount": 10,
    "weekPostCount": 50
  }
}
```

---

### 8. è®°å½•è¯é¢˜æµè§ˆ

ğŸŒ **å…¬å¼€æ¥å£**

```http
POST /api/topics/:id/view
```

#### è¯´æ˜

æ¯æ¬¡è®¿é—®è¯é¢˜è¯¦æƒ…é¡µæ—¶è°ƒç”¨ï¼Œç”¨äºç»Ÿè®¡æµè§ˆé‡ã€‚

---

### 9. ç”¨æˆ·åˆ›å»ºè¯é¢˜

ğŸ” **éœ€è¦ç™»å½•**

```http
POST /api/topics/create
```

#### è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| name | string | æ˜¯ | è¯é¢˜åç§° (2-20å­—ç¬¦) |
| description | string | å¦ | è¯é¢˜æè¿° (æœ€å¤š100å­—ç¬¦) |
| cover_image | string | å¦ | å°é¢å›¾ç‰‡ URL |

#### è¯·æ±‚ç¤ºä¾‹

```json
{
  "name": "ç¾é£Ÿåˆ†äº«",
  "description": "åˆ†äº«æ ¡å›­å‘¨è¾¹ç¾é£Ÿ"
}
```

#### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 0,
  "msg": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": "topic-uuid",
    "name": "ç¾é£Ÿåˆ†äº«",
    "description": "åˆ†äº«æ ¡å›­å‘¨è¾¹ç¾é£Ÿ"
  }
}
```

#### é”™è¯¯ç 

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 100 | å‚æ•°é”™è¯¯ |
| 606 | è¯é¢˜å·²å­˜åœ¨ |

---

## ç®¡ç†å‘˜æ¥å£

### 10. åˆ›å»ºè¯é¢˜ (ç®¡ç†å‘˜)

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
POST /api/topics
```

#### è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| name | string | æ˜¯ | è¯é¢˜åç§° (1-50å­—ç¬¦) |
| is_hot | boolean | å¦ | æ˜¯å¦çƒ­é—¨ |

---

### 11. æ›´æ–°è¯é¢˜

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
PUT /api/topics/:id
```

#### è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| name | string | å¦ | è¯é¢˜åç§° |
| is_hot | boolean | å¦ | æ˜¯å¦çƒ­é—¨ |

---

### 12. åˆ é™¤è¯é¢˜

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
DELETE /api/topics/:id
```

#### é”™è¯¯ç 

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 605 | è¯é¢˜ä¸å­˜åœ¨ |
| 607 | è¯é¢˜ä¸‹æœ‰å¸–å­ï¼Œæ— æ³•åˆ é™¤ |

---

### 13. è®¾ç½®çƒ­é—¨çŠ¶æ€

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
PUT /api/topics/:id/hot
```

#### è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| isHot | boolean | æ˜¯ | æ˜¯å¦çƒ­é—¨ |
