# æ ‡ç­¾æ¨¡å— API

## æ¦‚è¿°

æ ‡ç­¾æ¨¡å—æä¾›ç”¨æˆ·æ ‡ç­¾çš„æŸ¥è¯¢å’Œç®¡ç†åŠŸèƒ½ã€‚

**Base URL**: `/api/tags`

---

## API åˆ—è¡¨

### 1. è·å–çƒ­é—¨æ ‡ç­¾

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/tags/hot
```

#### æŸ¥è¯¢å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| limit | number | å¦ | æ•°é‡é™åˆ¶ |

#### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 0,
  "data": [
    {
      "id": "tag-uuid",
      "name": "æŠ€æœ¯",
      "category": "interest",
      "color": "#409EFF",
      "useCount": 1000,
      "status": "hot"
    }
  ]
}
```

---

### 2. æŒ‰åˆ†ç±»è·å–æ ‡ç­¾

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/tags/category/:category
```

#### è·¯å¾„å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| category | string | æ ‡ç­¾åˆ†ç±» |

#### æ ‡ç­¾åˆ†ç±»

| å€¼ | è¯´æ˜ |
|----|------|
| interest | å…´è¶£çˆ±å¥½ |
| skill | æŠ€èƒ½ç‰¹é•¿ |
| major | ä¸“ä¸šæ–¹å‘ |
| grade | å¹´çº§ |
| other | å…¶ä»– |

---

### 3. è·å–æ ‡ç­¾åˆ—è¡¨

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/tags
```

#### æŸ¥è¯¢å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| page | number | å¦ | é¡µç  |
| limit | number | å¦ | æ¯é¡µæ•°é‡ |
| category | string | å¦ | åˆ†ç±»ç­›é€‰ |
| status | string | å¦ | çŠ¶æ€ç­›é€‰ |
| keyword | string | å¦ | æœç´¢å…³é”®è¯ |

#### æ ‡ç­¾çŠ¶æ€

| å€¼ | è¯´æ˜ |
|----|------|
| hot | çƒ­é—¨ |
| normal | æ­£å¸¸ |
| disabled | ç¦ç”¨ |

---

### 4. è·å–æ ‡ç­¾è¯¦æƒ…

ğŸŒ **å…¬å¼€æ¥å£**

```http
GET /api/tags/:id
```

#### è·¯å¾„å‚æ•°

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | string | æ ‡ç­¾ ID |

---

## ç®¡ç†å‘˜æ¥å£

### 5. åˆ›å»ºæ ‡ç­¾

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
POST /api/tags
```

#### è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| name | string | æ˜¯ | æ ‡ç­¾åç§° (1-50å­—ç¬¦) |
| category | string | å¦ | åˆ†ç±» (é»˜è®¤ interest) |
| description | string | å¦ | æè¿° (æœ€å¤š500å­—ç¬¦) |
| color | string | å¦ | é¢œè‰² (HEXæˆ–RGBA) |
| status | string | å¦ | çŠ¶æ€ (é»˜è®¤ normal) |
| sortOrder | number | å¦ | æ’åºæƒé‡ |

#### è¯·æ±‚ç¤ºä¾‹

```json
{
  "name": "æ‘„å½±",
  "category": "interest",
  "color": "#FF5722",
  "status": "normal"
}
```

---

### 6. æ›´æ–°æ ‡ç­¾

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
PUT /api/tags/:id
```

---

### 7. åˆ é™¤æ ‡ç­¾

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
DELETE /api/tags/:id
```

---

### 8. åˆ‡æ¢çƒ­é—¨çŠ¶æ€

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
PATCH /api/tags/:id/toggle-hot
```

---

### 9. åˆ‡æ¢å¯ç”¨çŠ¶æ€

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
PATCH /api/tags/:id/toggle-status
```

---

### 10. æ‰¹é‡æ›´æ–°çŠ¶æ€

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
PATCH /api/tags/batch/status
```

#### è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| ids | array | æ˜¯ | æ ‡ç­¾ ID æ•°ç»„ |
| status | string | æ˜¯ | ç›®æ ‡çŠ¶æ€ |

---

### 11. è·å–æ ‡ç­¾ç»Ÿè®¡

ğŸ‘‘ **éœ€è¦ç®¡ç†å‘˜æƒé™**

```http
GET /api/tags/admin/statistics
```

#### å“åº”ç¤ºä¾‹

```json
{
  "success": true,
  "code": 0,
  "data": {
    "total": 100,
    "byCategory": {
      "interest": 40,
      "skill": 30,
      "major": 20,
      "grade": 5,
      "other": 5
    },
    "byStatus": {
      "hot": 10,
      "normal": 85,
      "disabled": 5
    }
  }
}
```

---

### 12. å¢åŠ ä½¿ç”¨æ¬¡æ•°

ğŸŒ **å†…éƒ¨æ¥å£**

```http
POST /api/tags/:id/increment
```

#### è¯´æ˜

å½“ç”¨æˆ·ä½¿ç”¨æ ‡ç­¾æ—¶è°ƒç”¨ï¼Œå¢åŠ æ ‡ç­¾ä½¿ç”¨æ¬¡æ•°ã€‚
